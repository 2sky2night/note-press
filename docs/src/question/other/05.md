---
outline: [1, 2]
title: å‰ç«¯é¡¹ç›®è§„èŒƒåŒ–
---

# èµ·æ­¥

â€‹ ä¸€ä¸ªå‰ç«¯é¡¹ç›®å¾€å¾€éƒ½éœ€è¦å¤šäººå¼€å‘ï¼Œä¸ºäº†ä¾¿äºç»´æŠ¤ä¸ç®¡ç†ï¼Œå¾€å¾€éƒ½éœ€è¦å¯¹ä»£ç è´¨é‡ã€ä»£ç 
æ ¼å¼ï¼ˆCSSã€JSã€HTMLï¼‰ä»¥åŠ git æäº¤æ³¨é‡Šéƒ½è¦è¿›è¡Œç»Ÿä¸€è§„èŒƒåŒ–ã€‚

â€‹ ä¸€èˆ¬å‰ç«¯è§„èŒƒåŒ–é€šå¸¸åŒ…å«äº†ï¼š

1. ESLintï¼šESLint æ˜¯ä¸€ä¸ªç”¨äºè¯†åˆ«å’ŒæŠ¥å‘Š JavaScript ä»£ç ä¸­çš„æ¨¡å¼é—®é¢˜çš„å·¥å…·ï¼Œå¯ä»¥å¸®
   åŠ©å›¢é˜Ÿéµå¾ªç»Ÿä¸€çš„ç¼–ç è§„èŒƒï¼Œå‘ç°æ½œåœ¨çš„ä»£ç é”™è¯¯å’Œæ¼æ´ã€‚

2. Prettierï¼šPrettier æ˜¯ä¸€ä¸ªä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œå¯ä»¥è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç ï¼Œä½¿ä»£ç é£æ ¼ä¿æŒä¸€
   è‡´ï¼Œé¿å…å›¢é˜Ÿæˆå‘˜åœ¨ä»£ç æ ¼å¼ä¸Šçš„äº‰è®®ã€‚

3. Huskyï¼šHusky æ˜¯ä¸€ä¸ª Git é’©å­å·¥å…·ï¼Œå¯ä»¥åœ¨ä»£ç æäº¤ã€ä»£ç æ¨é€ç­‰æ“ä½œå‰åæ‰§è¡Œé¢„å®š
   ä¹‰çš„è„šæœ¬ï¼Œæ¯”å¦‚åœ¨æäº¤ä»£ç å‰è¿è¡Œ ESLint å’Œ Prettierã€‚

4. lint-stagedï¼šlint-staged æ˜¯ä¸€ä¸ªåœ¨æäº¤é˜¶æ®µè¿è¡Œ linters çš„å·¥å…·ï¼Œå¯ä»¥åªå¯¹æäº¤çš„
   æ–‡ä»¶è¿›è¡Œæ£€æŸ¥ï¼Œæé«˜ lint çš„æ•ˆç‡ã€‚

5. Commitlintï¼šCommitlint æ˜¯ä¸€ä¸ªç”¨äºæ£€æŸ¥æäº¤ä¿¡æ¯æ˜¯å¦ç¬¦åˆè§„èŒƒçš„å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©å›¢é˜Ÿ
   ç»Ÿä¸€æäº¤ä¿¡æ¯çš„æ ¼å¼ã€‚

6. Commitizenï¼šCommitizen æ˜¯ä¸€ä¸ªç”¨äºè§„èŒƒåŒ–æäº¤ä¿¡æ¯çš„å·¥å…·ï¼Œå¯ä»¥é€šè¿‡äº¤äº’å¼å‘½ä»¤è¡Œå¸®
   åŠ©å¼€å‘è€…ç”Ÿæˆç¬¦åˆè§„èŒƒçš„æäº¤ä¿¡æ¯ï¼Œæé«˜æäº¤ä¿¡æ¯çš„è´¨é‡å’Œç»Ÿä¸€æ€§ã€‚

7. stylelintï¼šç”¨æ¥æ£€æŸ¥ css çš„ï¼Œæå‡ css çš„å¯è¯»æ€§ã€‚

   é€šå¸¸æ¯ä¸ªé¡¹ç›®å¯èƒ½çš„è§„èŒƒéƒ½ä¸ä¸€æ ·ï¼Œæ‰€ä»¥ä¸€èˆ¬éƒ½æ˜¯ä¸€ä¸ªé¡¹ç›®é‡Œé¢é›†æˆäº†ä¸€å¥—è§„èŒƒåŒ–æ–¹æ¡ˆ
   ã€‚

æ‰©å±•ï¼š

1. æ–‡æ¡£è§„èŒƒåŒ–ï¼šå¯ä»¥ä½¿ç”¨å·¥å…·å¦‚ Docsifyã€Docusaurusã€GitBook ç­‰æ¥ç®¡ç†é¡¹ç›®æ–‡æ¡£ï¼Œè¿™
   äº›å·¥å…·æä¾›äº†æ–‡æ¡£ç¼–å†™ã€ç‰ˆæœ¬ç®¡ç†ã€ä¸»é¢˜å®šåˆ¶ç­‰åŠŸèƒ½ï¼Œæœ‰åŠ©äºè§„èŒƒåŒ–æ–‡æ¡£ç®¡ç†ã€‚
2. æµ‹è¯•è§„èŒƒåŒ–ï¼šå¯¹äºå•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ç­‰ï¼Œå¯ä»¥ä½¿ç”¨ Jestã€Mochaã€Karma ç­‰æµ‹è¯•æ¡†æ¶
   ï¼Œå¹¶ç»“åˆ CI/CD å·¥å…·ï¼ˆå¦‚ Jenkinsã€Travis CI ç­‰ï¼‰è¿›è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•å’ŒæŠ¥å‘Šã€‚
3. ç‰ˆæœ¬ç®¡ç†è§„èŒƒåŒ–ï¼šå¯ä»¥ä½¿ç”¨ SemVerï¼ˆè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼‰è§„èŒƒï¼Œå¹¶ç»“åˆå·¥å…·å¦‚
   standard-version æ¥è‡ªåŠ¨åŒ–ç‰ˆæœ¬ç®¡ç†å’Œå‘å¸ƒæµç¨‹ã€‚
4. ä»£ç å®¡æŸ¥è§„èŒƒåŒ–ï¼šå¯ä»¥ä½¿ç”¨å·¥å…·å¦‚ GitHubã€GitLab ç­‰æä¾›çš„ Pull Request åŠŸèƒ½ï¼Œç»“
   åˆä»£ç å®¡æŸ¥å·¥å…·å¦‚ CodeStreamã€Crucible ç­‰è¿›è¡Œä»£ç å®¡æŸ¥ã€‚
5. é¡¹ç›®ç»“æ„è§„èŒƒåŒ–ï¼šå¯ä»¥ä½¿ç”¨å·¥å…·å¦‚ Yeomanã€create-react-app ç­‰æ¥ç”Ÿæˆé¡¹ç›®è„šæ‰‹æ¶ï¼Œ
   ä»¥ç¡®ä¿é¡¹ç›®ç»“æ„çš„ä¸€è‡´æ€§ã€‚
6. æ„å»ºå’Œéƒ¨ç½²è§„èŒƒåŒ–ï¼šå¯ä»¥ä½¿ç”¨å·¥å…·å¦‚ Webpackã€Rollup ç­‰è¿›è¡Œé¡¹ç›®æ„å»ºï¼Œç»“åˆ CI/CD
   å·¥å…·ï¼ˆå¦‚ Jenkinsã€Travis CIã€CircleCI ç­‰ï¼‰è¿›è¡Œè‡ªåŠ¨åŒ–æ„å»ºå’Œéƒ¨ç½²ã€‚

# ä»£ç è§„èŒƒåŒ–

Eslint å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¯¹å½“å‰é¡¹ç›®çš„ä»£ç é£æ ¼è¿›è¡Œç»Ÿä¸€çš„æ£€æŸ¥ã€‚eslint æ˜¯ä¸€ä¸ªå¼€æºçš„
`JavaScript` çš„ `linting` å·¥å…·ï¼Œä½¿ç”¨ `espree` å°† `JavaScript` ä»£ç è§£ææˆæŠ½è±¡è¯­æ³•
æ ‘ `(AST)`ï¼Œç„¶åé€šè¿‡`AST` æ¥åˆ†ææˆ‘ä»¬ä»£ç ï¼Œä»è€Œç»™äºˆæˆ‘ä»¬ä¸¤ç§æç¤ºï¼š

- **ä»£ç è´¨é‡é—®é¢˜**ï¼šä½¿ç”¨æ–¹å¼æœ‰å¯èƒ½æœ‰é—®é¢˜(problematic patterns)
- **ä»£ç é£æ ¼é—®é¢˜**ï¼šé£æ ¼ä¸ç¬¦åˆä¸€å®šè§„åˆ™ (doesnâ€™t adhere to certain style
  guidelines)ã€‚

ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬è‡ªå·±ä¹Ÿæœ‰ç»™ vscode å®‰è£… eslint æ’ä»¶ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å•ç‹¬åœ¨é¡¹ç›®ä¸­é›†æˆå‘¢
ï¼Ÿå°±æ˜¯å› ä¸ºæ¯ä¸ªäººçš„ eslint æ’ä»¶çš„é…ç½®éƒ½ä¸ä¸€æ ·ï¼Œå°±ä¼šå¯¼è‡´ä»£ç è§„èŒƒåŒ–å¾—ä¸ç»Ÿä¸€ã€‚

## å®‰è£…

```shell
pnpm install eslint -D
```

## åˆå§‹åŒ–

```shell
npx eslint --init
```

## é…ç½®æµç¨‹

è¿è¡Œä¸Šè¿°åˆå§‹åŒ–å‘½ä»¤åå°±ä¼šåœ¨æ§åˆ¶å°ä¸Šæ ¹æ®æç¤ºé…ç½® eslint äº†ï¼Œé…ç½®å®Œæˆåä¼šç”Ÿ
æˆ`.eslintc.js`æ–‡ä»¶ï¼ˆé€‰æ‹©é…ç½®æ–‡ä»¶è¾“å‡ºåˆ° js ä¸­ï¼‰ã€‚å½“ç„¶ä¹Ÿå¯ä»¥é…ç½® `.eslintignore`
æ¥æ–°å¢ä¸æƒ³æ ¼å¼åŒ–çš„æ–‡ä»¶ã€‚è§„åˆ™ç±»ä¼¼äº `.gitignore`ã€‚

### ? How would you like to use ESLint?(ä½ è¦å¦‚ä½•ä½¿ç”¨ ESlintï¼Ÿ) ...

To check syntax only (ä»…æ£€æŸ¥è¯­æ³•)

To check syntax and find problemsï¼ˆæ£€æŸ¥è¯­æ³•å¹¶æŸ¥æ‰¾é—®é¢˜ï¼‰

To check syntax, find problems, and enforce code styleï¼ˆæ£€æŸ¥è¯­æ³•ã€æŸ¥æ‰¾é—®é¢˜å’Œå¼ºåˆ¶
æ‰§è¡Œä»£ç æ ·å¼ï¼‰

### ? What type of modules does your project use?ï¼ˆä½ çš„é¡¹ç›®ä½¿ç”¨çš„æ¨¡å—åŒ–æ ‡å‡†æ˜¯ï¼Ÿï¼‰ ...

JavaScript modules (import/export)

CommonJS (require/exports)

None of these

### ? Which framework does your project use?ï¼ˆä½ çš„é¡¹ç›®ä½¿ç”¨äº†é‚£ç§æ¡†æ¶ï¼Ÿï¼‰ ...

React

Vue.js

None of these

### ? Does your project use TypeScript? ï¼ˆä½¿ç”¨äº† tsï¼Ÿï¼‰

No / Yes

### ? Where does your code run? ï¼ˆé¡¹ç›®çš„è¿è¡Œç¯å¢ƒæ˜¯ï¼Ÿï¼‰...

âˆš Browser âˆš Node

### ? What format do you want your config file to be in? ï¼ˆeslint çš„é…ç½®æ–‡ä»¶ç”Ÿæˆåœ¨å“ªé‡Œï¼Ÿï¼‰...

JavaScript

YAML

JSON

## ä½¿ç”¨

```shell
pnpm eslint . æ ¡éªŒå…¨éƒ¨æ–‡ä»¶
pnpm eslint ./index.js æ ¡éªŒæŸä¸ªæ–‡ä»¶
```

## è‡ªå®šä¹‰è§„åˆ™

â€‹ æŸ¥çœ‹ eslint å®˜ç½‘è¿›è¡Œé…ç½®é¡¹ç›®è§„èŒƒåŒ–è§„åˆ™
ï¼Œ[ç‚¹æˆ‘](https://eslint.nodejs.cn/docs/latest/use/getting-started)ã€‚

## æ”¯æŒ Prettier

è®© `ESlint` ä¹Ÿç”¨ `prettier` çš„è§„åˆ™æ¥æ£€æµ‹ä»£ç æ˜¯å¦åˆæ³•ã€‚ä¸‹è½½
`eslint-plugin-prettier` `eslint-config-prettier`ã€‚

1. å®‰è£…

```shell
npm add -D eslint-config-prettier #eslintå…¼å®¹çš„æ’ä»¶
npm add -D eslint-plugin-prettier #eslintçš„prettier
```

2. ä¿®æ”¹.eslintrc.js æ–‡ä»¶:

```js
// .eslintrc.js
module.exports = {
  "extends": {
    // ...
    "prettier",
    "plugin:prettier/recommended"
  }
}
```

# ä»£ç é£æ ¼å·¥å…·

â€‹ ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬è‡ªå·±ä¹Ÿæœ‰ç»™ vscode å®‰è£… Prettier æ’ä»¶ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å•ç‹¬åœ¨é¡¹ç›®ä¸­é›†
æˆå‘¢ï¼Ÿå°±æ˜¯å› ä¸ºæ¯ä¸ªäººçš„ Prettier æ’ä»¶çš„é…ç½®éƒ½ä¸ä¸€æ ·ï¼Œå°±ä¼šå¯¼è‡´ä»£ç é£æ ¼ä¸ç»Ÿä¸€ã€‚

## å®‰è£…

```shell
pnpm install prettier eslint-config-prettier eslint-plugin-prettier -D
```

## æ³¨æ„

1.åœ¨.eslintrc ä¸­,extend ä¸­æ·»åŠ  "prettier" è§£å†³ eslint å’Œ prettier çš„å†²çª

â€‹ è§£å†³æ–¹æ³•ï¼šå› ä¸º eslint-config-prettier æ–°ç‰ˆæœ¬æ›´æ–°ä¹‹å,åªéœ€è¦å†™ä¸€ä¸ª "prettierr"
å³å¯,æ— éœ€å¤šè¨€æŒ‡ä»¤ã€‚

## é…ç½®

å½“æˆ‘ä»¬å®‰è£…å¥½ prettier åï¼Œå¯ä»¥è¿›è¡Œæµ‹è¯•ï¼Œéšæ„åˆ›å»º test.js æ–‡ä»¶ï¼Œç¼–å†™æ ¼å¼éå¸¸ç³Ÿç³•
çš„ä»£ç ï¼Œç„¶åè¿è¡Œ:

```shell
npx prettier --write .\test.js
pnpm exec prettier --write .\test.js
pnpm exec prettier . --write æ ¼å¼åŒ–å·¥ç¨‹ä¸‹çš„å…¨éƒ¨æ–‡ä»¶
```

å°±ä¼šå‘ç°ä»£ç å·²ç»è¢«æ ¼å¼åŒ–äº†ï¼Œå°±è¯´æ˜å®‰è£…æˆåŠŸäº†ï¼

è‹¥éœ€è¦è‡ªå®šä¹‰é…ç½®ä»£ç é£æ ¼ï¼Œåˆ™éœ€è¦æ‰‹åŠ¨åˆ›å»º`.prettierrc`æ–‡ä»¶ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é…ç½®
`.prettierignore` æ¥æ–°å¢ä¸æƒ³æ ¼å¼åŒ–çš„æ–‡ä»¶ã€‚è§„åˆ™ç±»ä¼¼äº `.gitignore`ã€‚å¦‚ä¸‹ï¼š

```json
{
  "semi": true,
  "tabWidth": 2,
  "trailingComma": "none",
  "singleQuote": true,
  "arrowParens": "avoid"
}
```

ä¸»è¦æœ‰ä»¥ä¸‹é¡¹ï¼š

- `printWidth`. æ¡ä»¶å…è®¸æ—¶æ¯è¡Œå­—ç¬¦é•¿åº¦å¤§äºè¯¥å€¼æ—¶è¿›è¡Œæ¢è¡Œï¼ˆprettier ä¸ä¼šå¼ºè¡Œæ¢è¡Œ
  ï¼šæ¯”å¦‚å°†ä¸€ä¸ªå¼•å·åŒ…è£¹çš„å­—ç¬¦ä¸²æŠ˜è¡Œï¼‰ã€‚é»˜è®¤ä¸º 80
- `tabWidth`. ç¼©è¿›ç©ºæ ¼æ•°ï¼›é»˜è®¤ä¸º 2
- `semi`. è¯­å¥æœ«å°¾æ˜¯å¦å¸¦åˆ†å·
- `singleQuote`. æ˜¯å¦å°†åŒå¼•å·è½¬æ¢ä¸ºå•å¼•å·ã€‚åŒå¼•å·é‡ŒåŒ…å«å•å¼•å·æ—¶ä¸ä¼šè¢«æ ¼å¼åŒ–ã€‚
- `quoteProps`. å¯¹è±¡å±æ€§å¼•å·çš„é…ç½®
- `jsxSingleQuote`. jsx æ–‡ä»¶é‡Œä½¿ç”¨å•å¼•å·
- `bracketSpacing`. åœ†æ‹¬å·ä¹‹é—´æ·»åŠ ç©ºæ ¼ï¼Œå¦‚`{ a: b }`
- `arrowParens`. ç®­å¤´å‡½æ•°ï¼Œå‚æ•°æ·»åŠ åœ†æ‹¬å·ï¼Œå¦‚`(x)=>y`
- `parser`. æŒ‡å®šè§£æå™¨ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¸éœ€è¦é»˜è®¤çš„å°±è¡Œ

å…¨éƒ¨é…ç½®é¡¹ï¼šhttps://prettier.io/docs/en/options.html

# æ ·å¼æ£€æŸ¥å·¥å…·

stylelintï¼Œæ˜¯ä¸€ä¸ª CSS è§„èŒƒåŒ–æ£€æŸ¥å·¥å…·ã€‚

## å®‰è£…

```shell
pnpm install stylelint stylelint-config-standard stylelint-config-prettier -D
```

stylelint â€”â€” css çš„ lint å·¥å…·

stylelint-config-standard â€”â€” å®˜æ–¹å†…ç½®ä¸€äº›æ ‡å‡†è§„åˆ™ï¼Œæ­é… extends ä½¿ç”¨ï¼Œå¯ä»¥æ£€æŸ¥
sassã€less æˆ–è€… vue ä¸­çš„ style éƒ¨åˆ†çš„ä»£ç ã€‚

stylelint-config-prettier â€”â€” æŠ¹å¹³ä¸ prettier çš„æ ¼å¼åŒ–å†²çªé—®é¢˜ï¼Œæ­é… extends ä½¿ç”¨

## é…ç½®

ä½¿ç”¨ stylelint æ£€æµ‹å™¨éœ€è¦ä¸€ä¸ª`é…ç½®å¯¹è±¡`ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸‰ç§æ–¹å¼æ¥åˆ›å»ºè¿™ä¸ªå¯¹è±¡ã€‚

- `package.json` ä¸­çš„ stylelint å±æ€§ã€‚
- `.stylelintrc.js`æ–‡ä»¶
- `stylelint.config.js` æ–‡ä»¶è¾“å‡ºçš„ js å¯¹è±¡

ä¸€æ—¦å‘ç°å®ƒä»¬ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œå°†ä¸å†ç»§ç»­è¿›è¡ŒæŸ¥æ‰¾ï¼Œè¿›è¡Œè§£æï¼Œå°†ä½¿ç”¨è§£æåçš„å¯¹è±¡ã€‚ æœ¬
æ¬¡ä½¿ç”¨çš„æ˜¯`.stylelintrc.js` æ–‡ä»¶æ¥è¿›è¡Œé…ç½®ã€‚

åˆ›å»º`.sytlelintrc.js`ï¼Œå¹¶å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š

```js
module.exports = {
  extends: "stylelint-config-standard",
};
```

åˆ›å»ºå¥½åå³å¯ä½¿ç”¨`npx stylelint "**/*.css"`æ¥è¿›è¡Œæµ‹è¯•æ˜¯å¦å®‰è£…é…ç½®æˆåŠŸï¼Œä¹Ÿå¯ä»¥ä½¿
ç”¨`npx stylelint "**/*.scss"`æ¥å¤„ç†æ‰€æœ‰ scss æ–‡ä»¶ã€‚

## ä½¿ç”¨

å®‰è£…å®˜æ–¹æ–‡æ¡£çš„è¯´æ³•ä½ å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ–¹æ³•è¿è¡Œ stylelint æ£€æµ‹æ ·å¼ä»£ç ã€‚

`--fix` ç”¨æ¥è‡ªåŠ¨ä¿®å¤ï¼Œä½†ä¸èƒ½ä¿®å¤æ‰€æœ‰çš„é—®é¢˜ï¼Œæ³¨æ„åªèƒ½æ£€æŸ¥ css æ–‡ä»¶ã€‚

```json
// package.json
"scripts":{
  "lint:css":"stylelint src/**/*.css --fix",
  "lint:css":"stylelint ä½ çš„æ–‡ä»¶å¤¹ --fix",
}
```

## è‡ªå®šä¹‰ CSS å±æ€§é¡ºåº

æƒ³è®© stylelint å¸®æˆ‘ä»¬ä¸º css å±æ€§æ’åºï¼Ÿæ¯”å¦‚è®©å®½é«˜æ’åœ¨æœ€å‰é¢ï¼Ÿä¸å¦¨è¯•
è¯•`stylelint-order`æ˜¯ç”¨æ¥åœ¨æ ¼å¼åŒ– css æ–‡ä»¶æ—¶å¯¹ä»£ç çš„å±æ€§è¿›è¡Œæ’åºã€‚

å®‰è£…

```shell
pnpm install stylelint-order -D
```

é…ç½®

â€‹ åœ¨`stylelintrc.js`ä¸­é…ç½®ï¼š

```js
module.exports = {
  // ä¸ºstylelintå®‰è£…stylelint-orderæ’ä»¶
  plugins: ["stylelint-order"],
  extends: "stylelint-config-standard",
  rules: {
    "order/properties-order": [
      // è§„åˆ™é¡ºåºï¼Œå¯ä»¥è‡ªå·±éšæ„å®šä¹‰
      "position",
      "top",
      "right",
      "bottom",
      "left",
      "z-index",
      "display",
      "float",
      "width",
      "height",
      "max-width",
      "max-height",
      "min-width",
      "min-height",
      "padding",
      "padding-top",
      "padding-right",
      "padding-bottom",
      "padding-left",
      "margin",
      "margin-top",
      "margin-right",
      "margin-bottom",
      "margin-left",
      "margin-collapse",
      "margin-top-collapse",
      "margin-right-collapse",
      "margin-bottom-collapse",
      "margin-left-collapse",
      "overflow",
      "overflow-x",
      "overflow-y",
      "clip",
      "clear",
      "font",
      "font-family",
      "font-size",
      "font-smoothing",
      "osx-font-smoothing",
      "font-style",
      "font-weight",
      "line-height",
      "letter-spacing",
      "word-spacing",
      "color",
      "text-align",
      "text-decoration",
      "text-indent",
      "text-overflow",
      "text-rendering",
      "text-size-adjust",
      "text-shadow",
      "text-transform",
      "word-break",
      "word-wrap",
      "white-space",
      "vertical-align",
      "list-style",
      "list-style-type",
      "list-style-position",
      "list-style-image",
      "pointer-events",
      "cursor",
      "background",
      "background-color",
      "border",
      "border-radius",
      "content",
      "outline",
      "outline-offset",
      "opacity",
      "filter",
      "visibility",
      "size",
      "transform",
    ],
  },
};
```

## å¿½ç•¥ stylelint å¯¹ css çš„æ£€éªŒ

1. å¿½ç•¥æ•´ä¸ªæ–‡ä»¶ï¼Œåœ¨é¦–è¡ŒåŠ å…¥ `/* stylelint-disable */`

```css
/* stylelint-disable */
html {
}
```

2. å¿½ç•¥å¤šè¡Œ

```css
/* stylelint-disable */
html {
}
.div {
  color: red;
}
/* stylelint-enable */
```

3. å¿½ç•¥ä¸€è¡Œï¼Œ åœ¨æ ·å¼å‰åŠ å…¥ `/* stylelint-disable-next-line */` ä»¥å¿½ç•¥è¯¥è¡Œ

```css
#id {
  /* stylelint-disable-next-line */
  color: pink !important;
}
```

4. åœ¨ `.stylelintrc.js` å…§è®¾å®šéœ€è¦å¿½ç•¥çš„æ–‡ä»¶

```js
{
  ignoreFiles: ["dist/**/*", "src/assets/scss/abc.scss"];
}
```

# git è§„èŒƒ

â€‹ åœ¨ä»£ç æäº¤æ—¶ï¼Œè‹¥é¡¹ç›®ä»£ç æ²¡æœ‰æŒ‰ç…§æ ¼å¼åŒ–ã€è§„èŒƒåŒ–æ£€æŸ¥å°±æäº¤åˆ°äº†ä»“åº“é‡Œé¢å»ï¼Œé‚£å²‚ä¸
æ˜¯æˆ‘ä»¬å‰é¢çš„é…ç½®ä¸éƒ½æ²¡ç”¨äº†å—ï¼Œæ‰€ä»¥å°±æœ‰äº† git è§„èŒƒã€‚

â€‹ å…¶ä¸­åŒ…å«äº†ï¼š

- **husky**
  - æ“ä½œ git é’©å­çš„å·¥å…·
- **lint-staged**
  - æœ¬åœ°æš‚å­˜ä»£ç æ£€æŸ¥å·¥å…·
- **commitlint**
  - commit ä¿¡æ¯æ ¡éªŒå·¥å…·
- **commitizen**
  - è¾…åŠ© commit ä¿¡æ¯ ,å°±åƒè¿™æ ·,é€šè¿‡é€‰æ‹©è¾“å…¥,è§„èŒƒæäº¤ä¿¡æ¯

## husky

â€‹ husky å¯ä»¥è®©æˆ‘ä»¬åœ¨æäº¤ä»£ç æ—¶åšä¸€äº›é¢å¤–æ“ä½œï¼Œå¦‚ä»£ç æ ¼å¼åŒ–ï¼Œä»£ç è§„èŒƒåŒ–æ£€æŸ¥ï¼Œæäº¤
æ³¨é‡Šæ˜¯å¦ç¬¦åˆè§„èŒƒç­‰ç­‰åŠŸèƒ½ã€‚husky å°±æ˜¯åŸºäº git hooks åœ¨ä¸åŒæ—¶é—´ç‚¹æ‰§è¡Œä¸åŒçš„æ“ä½œï¼Œ
ä¾‹å¦‚ï¼š

- `pre-commit`ï¼šä»£ç æäº¤ä¹‹å‰è§¦å‘ï¼Œå¯ä»¥é€šè¿‡æ­¤é’©å­åˆ¤æ–­ä»£ç æ˜¯å¦ç¬¦åˆè§„èŒƒã€‚
- `commit-msg`ï¼šå¯¹ commit çš„ä¿¡æ¯æ ¡éªŒï¼Œå¯ä»¥é€šè¿‡æ­¤é’©å­åˆ¤å®š commit æ˜¯å¦åˆæ³•ã€‚
- `pre-push`ï¼š ä»£ç æäº¤ä¹‹å‰è§¦å‘ï¼Œå¯ä»¥é€šè¿‡æ­¤é’©å­å¯¹ä¸šåŠ¡ä»£ç æ‰§è¡Œä¸€äº›æµ‹è¯•ã€‚

### å®‰è£…

```shell
pnpm install -d husky
```

å®‰è£…å¥½åï¼Œæ‰§è¡Œ`npx husky install`æ¥åˆå§‹åŒ–`husky`ï¼Œæ‰§è¡Œä¹‹ååˆ™ä¼šåˆ›å»º.husky æ–‡ä»¶å¤¹
ï¼Œå…¶ä¸­åŒ…å«äº†ä¸€äº›åŸºæœ¬çš„é…ç½®ã€‚åœ¨æ‰§è¡Œè¯¥å‘½ä»¤å‰è¯¥ä»“åº“å¿…é¡»è¢« git ç®¡ç†ã€‚

```shell
npx husky install
```

ä¸ºäº†ä¿è¯å…¶ä»–å¼€å‘è€…æ‹‰å–ä»£ç æ—¶èƒ½å¤Ÿåˆå§‹åŒ– huskyï¼Œç”±äº husky åªåœ¨æœ¬åœ°èµ·ä½œç”¨ï¼Œæ‰€ä»¥æˆ‘
ä»¬éœ€è¦åœ¨ package.json ä¸­æ·»åŠ è¯¥è„šæœ¬ï¼Œä¿è¯ä¸€å®‰è£…é¡¹ç›®ä¾èµ–æ—¶ä¿è¯ husky è¢«åˆå§‹åŒ–ã€‚

åªè¦æ‰§è¡Œ`pnpm install`å°±ä¼šå®‰è£…ä¾èµ–ï¼Œå¹¶æ‰§è¡Œ`prepare`è„šæœ¬ï¼Œåˆå§‹åŒ– husky

```json
{
  "scripts": {
    "prepare": "git init && husky install"
  }
}
```

### git hooks

[git hooks](https://link.juejin.cn?target=https%3A%2F%2Fgit-scm.com%2Fbook%2Fzh%2Fv2%2F%E8%87%AA%E5%AE%9A%E4%B9%89-Git-Git-%E9%92%A9%E5%AD%90)
çš„åˆ†ç±»å¦‚ä¸‹

- å®¢æˆ·ç«¯ hooks
  - æäº¤å·¥ä½œæµ
    - `pre-commit`
    - `prepare-commit-msg`
    - `commit-msg`
    - `post-commit`
  - email å·¥ä½œæµ
    - `applypatch-msg`
    - `pre-applypatch`
    - `post-applypatch`
  - å…¶å®ƒ
    - `pre-rebase`
    - `post-rewrite`
    - `post-checkout`
    - `post-merge`
    - `pre-push`
    - `pre-auto-gc`
- æœåŠ¡å™¨ç«¯ hooks
  - `pre-receive`
  - `update`
  - `post-receive`

### ä½¿ç”¨

ä½¿ç”¨ husky çš„æ—¶å€™ï¼Œæˆ‘ä»¬é€šå¸¸åªå…³æ³¨ _æäº¤å·¥ä½œæµ_ çš„å‡ ä¸ª hooksï¼Œç”¨å¾—æœ€å¤šçš„ä¸€ä¸ªæ˜¯
`pre-commit`ï¼Œpre-commit ä¼šåœ¨æœ¬åœ° commit æ—¶ä¼šè§¦å‘è¯¥é’©å­ã€‚

ä½¿ç”¨ hosky çš„æ—¶å€™ï¼Œé€šå¸¸æ˜¯ç”¨å®ƒæ¥åˆ›å»ºä¸€ç³»åˆ—çš„ git hooksï¼Œå¹¶åœ¨å¯¹åº”çš„æ–‡ä»¶ä¸­æ’°å†™
`shell` è„šæœ¬ä»£ç ã€‚

ä¸‹é¢æ˜¯å®˜æ–¹ç¤ºä¾‹ä¸­çš„ä¸€ä¸ªï¼Œåˆ›å»ºäº† `pre-commit` hook æ–‡ä»¶ï¼š

```sheel
npx husky add .husky/pre-commit "npm test" # npm
pnpx husky add .husky/pre-commit "npm test" # pnpm
pnpx husky add .husky/pre-commit # ä¸ºç©ºï¼Œå¯ä»¥è‡ªå·±åˆ°å¯¹åº”æ–‡ä»¶ä¸­ç¼–å†™
```

ä¾‹å¦‚:

```sh
#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# pnpm eslint ä¸ºè‡ªå·±ç¼–å†™çš„è„šæœ¬ï¼Œæ¯å½“æäº¤ä»£ç commitæ—¶å°±ä¼šæ‰§è¡Œè¯¥è„šæœ¬ä¸­çš„å†…å®¹ã€‚
pnpm eslint
```

## lint-staged

â€‹ lint-staged åªæ£€æŸ¥æš‚å­˜åŒºçš„æ–‡ä»¶ã€‚å½“æˆ‘ä»¬ä½¿ç”¨ husky çš„é’©å­æ‰§è¡ŒæŸäº›æ“ä½œæ—¶ä¼šå‘ç°
Perttier ä¼šå¯¹é¡¹ç›®æ‰€æœ‰çš„æ–‡ä»¶è¿›è¡Œæ ¼å¼åŒ–ï¼Œä½†èµ·å§‹æˆ‘ä»¬ä»…ä»…åªéœ€è¦å¯¹æœ‰æ”¹åŠ¨çš„æ–‡ä»¶è¿›è¡Œæ£€
æŸ¥å³å¯ï¼Œå› ä¸ºè´®å­˜åŒºä¸­çš„æ–‡ä»¶æ—©å°±è¢«æ ¼å¼åŒ–è¿‡çš„ä»£ç ï¼Œä½†ä¾æ—§è¢«æ ¡éªŒå°±ä¼šå¾ˆæµªè´¹æ—¶é—´ï¼Œæ‰€ä»¥
lint-staged å¯ä»¥å¸®åŠ©æˆ‘ä»¬è§£å†³è¯¥é—®é¢˜ã€‚

### å®‰è£…

```shell
 pnpm install -d lint-staged
```

### ä¿®æ”¹ pre-commit é’©å­æ–‡ä»¶(é‡è¦)

å°† pre-commit é’©å­æ‰§è¡Œçš„è„šæœ¬æ›¿æˆ`npx lint-staged`ï¼Œè¿™æ ·`lint-staged`æ‰ä¼šç”Ÿæ•ˆã€‚

### é…ç½®

ä¸‹é¢çš„å‘½ä»¤ç›´æ¥å…³ç³»åˆ°`npx lint-staged`ä¼šæ‰§è¡Œå“ªäº›å‘½ä»¤ã€‚

æ–¹æ³• 1ï¼š

æ ¹ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶**.lintstagedrc.json**

```json
//æ£€éªŒè§„åˆ™ä¸¾ä¾‹ï¼Œå…·ä½“æ£€éªŒä»€ä¹ˆæ–‡ä»¶å“ªäº›è·¯å¾„çœ‹å›¢é˜Ÿéœ€æ±‚
{
  //å¯¹srcç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶æ ¡éªŒ
  "src/**/*.{js,cjs,ts,html,json,css,scss,vue}": ["npx prettier --write"],
  "src/**/*.{js,cjs,ts,vue}": ["npx eslint --fix"],
  //åªå¯¹æ ¹ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶æ ¡éªŒï¼Œä¸æ¶‰åŠæ–‡ä»¶å¤¹
  "./*.{js,cjs,ts,html,json}": ["npx prettier --write"],
  "./*.{js,cjs,ts}": ["npx eslint --fix"]
}
```

æ–¹æ³• 2ï¼š

ç›´æ¥åœ¨ package.json æ·»åŠ å¦‚ä¸‹å¯¹è±¡

```json
"lint-staged": {
    "src/**/*.{js,cjs,ts,html,json,css,scss,vue}": [
      "npx prettier --write"
    ],
    "src/**/*.{js,cjs,ts,vue}": [
      "npx eslint --fix"
    ],
    "./*.{js,cjs,ts,html,json}": [
      "npx prettier --write"
    ],
    "./*.{js,cjs,ts}": [
      "npx eslint --fix"
    ]
  },
```

## commitlint

commitlint ä¼šå¯¹ git commit ä¸­çš„æ³¨é‡Šéƒ¨åˆ†è¿›è¡Œæ£€æŸ¥ï¼Œè‹¥ä¸ç¬¦åˆè§„èŒƒï¼Œç¦æ­¢æœ¬æ¬¡æäº¤ã€‚

https://commitlint.js.org/#/guides-local-setup?id=install-commitlint

### å®‰è£…

```shell
pnpm install --save-dev @commitlint/config-conventional @commitlint/cli
```

### å¢åŠ é’©å­

commit-msg é’©å­æ‰§è¡Œ æ¶ˆæ¯æ ¡éªŒ

```shell
 npx husky add .husky/commit-msg 'npx commitlint --edit $1'
```

`commitlint --edit <æ–‡ä»¶å>`ï¼šæ‰§è¡Œ commitlint å‘½ä»¤è¡Œå·¥å…·ï¼Œå¹¶ä½¿ç”¨ `--edit` é€‰é¡¹ï¼Œ
ä»ä¸€ä¸ªæ–‡ä»¶é‡Œæå– commit å†…å®¹æ¥è¿›è¡Œæ ¡éªŒã€‚æ ¡éªŒè§„åˆ™ç”± `commitlint.config.js` é…ç½®æ–‡
ä»¶æ¥æŒ‡å®š
ï¼Œ[reference-cli](https://link.juejin.cn?target=https%3A%2F%2Fcommitlint.js.org%2F%23%2Freference-cli%3Fid%3Dcli)

`$1`ï¼šåœ¨æ–°ç‰ˆçš„ husky ä¸­ `$HUSKY_GIT_PARAMS` å˜é‡å·²ä¸å†ä½¿ç”¨ï¼Œå–è€Œä»£ä¹‹æ˜¯ `$1`
ï¼Œ[æ–‡æ¡£åœ°å€](https://link.juejin.cn?target=https%3A%2F%2Ftypicode.github.io%2Fhusky%2F%23%2F%3Fid%3Dhusky_git_params-ie-commitlint-)

### é…ç½®

ç”±äºä¸Šè¿°é’©å­æŒ‡å®šäº†ä¼šåœ¨æäº¤ä»£ç æ—¶ä¼šæ‰§è¡Œ`npx commitlint --edit $1`ï¼Œcommitlint ä¼š
æ ¹æ®`commitlint.config.js`ä¸­çš„è§„åˆ™æ¥æ£€æŸ¥æ¶ˆæ¯æ˜¯å¦è§„èŒƒï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨åˆ›
å»º`commitlint.config.js`æ–‡ä»¶ã€‚

```js
module.exports = {
  // è§„åˆ™å°†ç»§æ‰¿ä¸@commitlint/config-conventional
  extends: ["@commitlint/config-conventional"],
};
```

åŒæ—¶éœ€è¦ä¿®æ”¹ eslint çš„é…ç½®é¡¹ï¼Œè‹¥ eslint è®¾ç½®äº†ä»£ç åªä¼šåœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„è¯å°†ä¸ä¼šæ”¯
æŒ cmdï¼Œæ‰€ä»¥éœ€è¦å¢åŠ  node é€‰é¡¹ï¼Œå¦åˆ™ eslint å°†æ— æ³•é€šè¿‡ã€‚

```js
// .eslintrc.js
module.exports = {
  env: {
    node: true,
    browser: true,
    es2021: true,
  },
};
```

å½“ç„¶ä¹Ÿå¯ä»¥åœ¨ commitlint.config.js ä¸­å¼•å…¥ eslint æ³¨é‡Šå³å¯ã€‚

```js
/* eslint-env node */
module.exports = {
  // è§„åˆ™å°†ç»§æ‰¿ä¸@commitlint/config-conventional
  extends: ["@commitlint/config-conventional"],
};
```

### é»˜è®¤æäº¤è§„èŒƒ

â€‹ é…ç½®å¥½å°±å¯ä»¥å°è¯•æäº¤äº†ï¼Œä¸è¿‡æ­¤æ—¶çš„æäº¤æ£€æŸ¥æ˜¯é»˜è®¤çš„æ£€æŸ¥è§„åˆ™ï¼Œé»˜è®¤æäº¤æ ¼å¼:

```
git commit -m <type>[optional scope]: <description> //æ³¨æ„å†’å·åé¢æœ‰ç©ºæ ¼
- typeï¼šæäº¤çš„æ”¹åŠ¨ç±»å‹ï¼ˆå¦‚æ–°å¢ã€ä¿®æ”¹ã€æ›´æ–°ç­‰ï¼‰
- optional scopeï¼šæ ‡è¯†æ­¤æ¬¡æäº¤ä¸»è¦æ¶‰åŠåˆ°ä»£ç ä¸­å“ªä¸ªæ¨¡å—
- descriptionï¼šä¸€å¥è¯æè¿°æ­¤æ¬¡æäº¤çš„ä¸»è¦å†…å®¹
```

**å¸¸ç”¨ type**

| type     | æè¿°                                                     |
| -------- | -------------------------------------------------------- |
| feat     | æ–°å¢åŠŸèƒ½                                                 |
| fix      | bug ä¿®å¤                                                 |
| style    | ä¸å½±å“ç¨‹åºé€»è¾‘çš„ä»£ç ä¿®æ”¹(ä¿®æ”¹ç©ºç™½å­—ç¬¦ï¼Œè¡¥å…¨ç¼ºå¤±çš„åˆ†å·ç­‰) |
| refactor | é‡æ„ä»£ç (æ—¢æ²¡æœ‰æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿæ²¡æœ‰ä¿®å¤ bug)                 |
| docs     | æ–‡æ¡£æ›´æ–°                                                 |
| test     | å¢åŠ æµ‹è¯•                                                 |
| chore    | æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨                                 |

ä¾‹å¦‚:

```shell
git commit -m 'feat: å¢åŠ  xxx åŠŸèƒ½'
git commit -m 'bug: ä¿®å¤ xxx åŠŸèƒ½'
```

### è‡ªå®šä¹‰æäº¤è§„èŒƒ

è¾“å…¥å‘½ä»¤åˆ›å»ºé…ç½®æ–‡ä»¶ï¼ˆåœ¨æ ¹ç›®å½•ï¼‰

```shell
echo  "module.exports = {extends: ['@commitlint/config-conventional']}; "  > commitlint.config.js
```

**rule é…ç½®**

rule ç”±**name**å’Œ**é…ç½®æ•°ç»„**ç»„æˆï¼Œå¦‚ï¼š`'name:[0, 'always', 72]'`

æ•°ç»„ç¬¬ä¸€ä½ï¼Œå‚æ•°è®¾ç½®é”™è¯¯çº§åˆ«

- 0ï¼š`disable`
- 1ï¼š`warning`
- 2ï¼š`error`

æ•°ç»„ç¬¬äºŒä½ï¼Œæ˜¯å¦åº”ç”¨

- always
- never

æ•°ç»„ç¬¬ä¸‰ä½ï¼Œrule çš„å€¼

> å…·ä½“è§„åˆ™å‚è€ƒ ğŸ‘‰
> [æ›´å¤š](https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fconventional-changelog%2Fcommitlint%2Fblob%2Fmaster%2Fdocs%2Freference-rules.md)
>
> å…³äºé…ç½®æ–‡ä»¶ ğŸ‘‰ [æ›´å¤š](https://juejin.cn/post/7062698936749785101#heading-7)

ä¾‹å­:

```js
module.exports = {
  extends: ["@commitlint/config-conventional"],
  rules: {
    "type-case": [2, "always", ["lower-case", "upper-case"]],
    "type-enum": [
      2,
      "always",
      [
        "feat",
        "fix",
        "docs",
        "style",
        "refactor",
        "perf",
        "test",
        "chore",
        "revert",
      ],
    ],
  },
};
```

å‚è€ƒèµ„æ–™ï¼š

[commitlint æ–‡æ¡£](https://link.juejin.cn?target=https%3A%2F%2Fcommitlint.js.org%2F%23%2Fguides-local-setup)

[husky æ–‡æ¡£](https://link.juejin.cn?target=https%3A%2F%2Ftypicode.github.io%2Fhusky%2F%23%2F%3Fid%3Dfeatures)

## commitizenï¼ˆéå¿…é¡»ï¼‰

â€‹ commitize å¯ä»¥è¾…åŠ©æˆ‘ä»¬è®¾ç½®ä»£ç æäº¤çš„æ¶ˆæ¯ï¼Œä»–å¯ä»¥æ ¹æ®é¡¹ç›®çš„æäº¤è§„åˆ™æ¥é€‰æ‹©æäº¤ç±»
å‹ï¼Œæˆ‘ä»¬åªéœ€è¦å†™å…¥æ¶ˆæ¯å³å¯ã€‚

### å®‰è£…

```shell
// 1. å®‰è£… commitizen
npm install commitizen -D

// 2.cz-conventional-changelogç”¨æ¥è§„èŒƒæäº¤ä¿¡æ¯ã€‚
npm install cz-conventional-changelog -D
// 3.commitizenè§„èŒƒåŒ–æäº¤æ ‡å‡† cz-conventional-changelog-zhä¸­æ–‡ç‰ˆçš„æäº¤è§„èŒƒæç¤º
npm install cz-conventional-changelog-zh -D
```

### é…ç½®

åœ¨ package.json ä¸­å¢åŠ ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶å¢åŠ ä¸€ä¸ªè„šæœ¬ã€‚ä»¥åæäº¤ä»£ç æ—¶å°±å¯ä»¥ä¸é€‚ç”¨ git
commit äº†ï¼Œè€Œæ˜¯è¿è¡Œ npm run commit ä½¿ç”¨ commitize è¾…åŠ©æˆ‘ä»¬æäº¤ä»£ç ã€‚

```json
"script":{
	"commit":"git-cz"
},
"config": {
    "commitizen": {
      // è‹±æ–‡ç‰ˆæœ¬
      "path": "./node_modules/cz-conventional-changelog",
      // ä¸­æ–‡ç‰ˆæœ¬
      "path": "./node_modules/cz-conventional-changelog-zh"
    }
  }
```

### ä½¿ç”¨

â€‹ å½“è¿è¡Œ`npm run commit`æ—¶ï¼Œåˆ™ä¼šæ‰§è¡Œ git-cz å‘½ä»¤ï¼Œè¾“å‡ºä¸€ä¸ªäº¤äº’æ¡†è¾…åŠ©æˆ‘ä»¬ç”Ÿæˆæäº¤
ä¿¡æ¯ã€‚

**ï¼ˆ1ï¼‰é€‰æ‹©æäº¤ç±»å‹**

**ï¼ˆ2ï¼‰æœ¬ä¿®æ”¹å½±å“çš„æ˜¯å†…å®¹ï¼ˆèŒƒå›´ï¼‰ï¼Ÿå¯ä»¥å¡«æ–‡ä»¶å**

â€‹ è‹¥å†™å…¥äº†å†…å®¹ï¼Œåˆ™ä¼šåœ¨ type åç”Ÿæˆä½œç”¨åŸŸåç§°ã€‚ä¾‹å¦‚ feat(user): test

**ï¼ˆ3ï¼‰å†™ä¸€ä¸ªç®€çŸ­çš„ä»‹ç»**

**ï¼ˆ4ï¼‰æä¾›ä¸€ä¸ªé•¿çš„ä»‹ç»**

**ï¼ˆ5ï¼‰æœ¬ä¿®æ”¹æ˜¯å¦å®ç°äº†æŸä¸ª issuesï¼Ÿ**

### changelog

ä½¿ç”¨**conventional-changelog-cli ç”Ÿæˆæäº¤æ—¥å¿—**ï¼Œå¯ä»¥å¿«é€Ÿçš„æµè§ˆæäº¤è®°å½•ä¸­çš„æ‰€æœ‰
ä¿¡æ¯ã€‚

#### å®‰è£…

```shell
pnpm i -D conventional-changelog-cli
# æ ¹ç›®å½•ä¸‹åœ¨åˆ›å»ºCHANGELOG.mdæ–‡ä»¶
echo "" > CHANGELOG.md
```

#### é…ç½®

åœ¨ package.json ä¸­æ–°å¢è„šæœ¬ï¼š

```shell
{
	"script":{
		"changelog": "conventional-changelog -p angular -i CHANGELOG.md -s"
	}
}
```

#### ä½¿ç”¨

é¦–æ¬¡æ‰§è¡Œ:

```
conventional-changelog -p angular -i CHANGELOG.md -s -r 0
```

æ‰§è¡Œ:

```shell
pnpm run changelog
```

# åœ¨ vite ä¸­é›†æˆè§„èŒƒåŒ–

## eslint

### å®‰è£…

å®‰è£…åï¼Œä¾æ—§ä½¿ç”¨`npx eslint install`æ¥åˆå§‹åŒ– eslint é…ç½®é¡¹ä»¥åŠå®‰è£…ç›¸å…³æ’ä»¶ã€‚

### é›†æˆ vite

è®© eslint ç›¸å…³æŠ¥é”™å‡ºç°åœ¨ vite é¡¹ç›®çš„é”™è¯¯çª—å£ä¸­ã€‚

1. å®‰è£…ï¼š

```shell
npm install -D vite-plugin-eslint @babel/core @babel/eslint-parser
```

2. é…ç½® vite.config.ts æ–‡ä»¶

```ts
import { defineConfig } from "vite";
import vue from "@vitejs/plugin-vue";
import eslintPlugin from "vite-plugin-eslint";

export default defineConfig({
  plugins: [
    vue(),
    eslintPlugin({
      include: ["src/**/*.ts", "src/**/*.vue", "src/*.ts", "src/*.vue"],
    }),
  ],
});
```

### å¢åŠ è„šæœ¬

åœ¨ package.json ä¸­æ·»åŠ è¯¥å‘½ä»¤:

```json
"lint:eslint": "eslint . --fix",
```

## prettier

### å®‰è£…

```shell
npm install -D prettier
npm install -D eslint-config-prettier #eslintå…¼å®¹çš„æ’ä»¶
npm install -D eslint-plugin-prettier #eslintçš„prettier
```

### é…ç½®

åœ¨æ ¹ç›®å½•ä¸‹é¢æ·»åŠ `.prettierrc.cjs`æ–‡ä»¶å¤¹ï¼Œç„¶åå°†ä¸‹é¢çš„é…ç½®æ·»åŠ åˆ°å…¶ä¸­ã€‚

```js
/** .prettierrc.js
 * åœ¨VSCodeä¸­å®‰è£…prettieræ’ä»¶ æ‰“å¼€æ’ä»¶é…ç½®å¡«å†™`.prettierrc.js` å°†æœ¬æ–‡ä»¶ä½œä¸ºå…¶ä»£ç æ ¼å¼åŒ–è§„èŒƒ
 * åœ¨æœ¬æ–‡ä»¶ä¸­ä¿®æ”¹æ ¼å¼åŒ–è§„åˆ™ï¼Œä¸ä¼šåŒæ—¶è§¦å‘æ”¹å˜ESLintä»£ç æ£€æŸ¥ï¼Œæ‰€ä»¥æ¯æ¬¡ä¿®æ”¹æœ¬æ–‡ä»¶éœ€è¦é‡å¯VSCodeï¼ŒESLintæ£€æŸ¥æ‰èƒ½åŒæ­¥ä»£ç æ ¼å¼åŒ–
 * éœ€è¦ç›¸åº”çš„ä»£ç æ ¼å¼åŒ–è§„èŒƒè¯·è‡ªè¡ŒæŸ¥é˜…é…ç½®ï¼Œä¸‹é¢ä¸ºé»˜è®¤é¡¹ç›®é…ç½®
 */
module.exports = {
  // ä¸€è¡Œæœ€å¤šå¤šå°‘ä¸ªå­—ç¬¦
  printWidth: 150,
  // æŒ‡å®šæ¯ä¸ªç¼©è¿›çº§åˆ«çš„ç©ºæ ¼æ•°
  tabWidth: 2,
  // ä½¿ç”¨åˆ¶è¡¨ç¬¦è€Œä¸æ˜¯ç©ºæ ¼ç¼©è¿›è¡Œ
  useTabs: true,
  // åœ¨è¯­å¥æœ«å°¾æ˜¯å¦éœ€è¦åˆ†å·
  semi: true,
  // æ˜¯å¦ä½¿ç”¨å•å¼•å·
  singleQuote: true,
  // æ›´æ”¹å¼•ç”¨å¯¹è±¡å±æ€§çš„æ—¶é—´ å¯é€‰å€¼"<as-needed|consistent|preserve>"
  quoteProps: "as-needed",
  // åœ¨JSXä¸­ä½¿ç”¨å•å¼•å·è€Œä¸æ˜¯åŒå¼•å·
  jsxSingleQuote: false,
  // å¤šè¡Œæ—¶å°½å¯èƒ½æ‰“å°å°¾éšé€—å·ã€‚ï¼ˆä¾‹å¦‚ï¼Œå•è¡Œæ•°ç»„æ°¸è¿œä¸ä¼šå‡ºç°é€—å·ç»“å°¾ã€‚ï¼‰ å¯é€‰å€¼"<none|es5|all>"ï¼Œé»˜è®¤none
  trailingComma: "es5",
  // åœ¨å¯¹è±¡æ–‡å­—ä¸­çš„æ‹¬å·ä¹‹é—´æ‰“å°ç©ºæ ¼
  bracketSpacing: true,
  // jsx æ ‡ç­¾çš„åå°–æ‹¬å·éœ€è¦æ¢è¡Œ
  jsxBracketSameLine: false,
  // åœ¨å•ç‹¬çš„ç®­å¤´å‡½æ•°å‚æ•°å‘¨å›´åŒ…æ‹¬æ‹¬å· alwaysï¼š(x) => x \ avoidï¼šx => x
  arrowParens: "always",
  // è¿™ä¸¤ä¸ªé€‰é¡¹å¯ç”¨äºæ ¼å¼åŒ–ä»¥ç»™å®šå­—ç¬¦åç§»é‡ï¼ˆåˆ†åˆ«åŒ…æ‹¬å’Œä¸åŒ…æ‹¬ï¼‰å¼€å§‹å’Œç»“æŸçš„ä»£ç 
  rangeStart: 0,
  rangeEnd: Infinity,
  // æŒ‡å®šè¦ä½¿ç”¨çš„è§£æå™¨ï¼Œä¸éœ€è¦å†™æ–‡ä»¶å¼€å¤´çš„ @prettier
  requirePragma: false,
  // ä¸éœ€è¦è‡ªåŠ¨åœ¨æ–‡ä»¶å¼€å¤´æ’å…¥ @prettier
  insertPragma: false,
  // ä½¿ç”¨é»˜è®¤çš„æŠ˜è¡Œæ ‡å‡† always\never\preserve
  proseWrap: "preserve",
  // æŒ‡å®šHTMLæ–‡ä»¶çš„å…¨å±€ç©ºæ ¼æ•æ„Ÿåº¦ css\strict\ignore
  htmlWhitespaceSensitivity: "css",
  // Vueæ–‡ä»¶è„šæœ¬å’Œæ ·å¼æ ‡ç­¾ç¼©è¿›
  vueIndentScriptAndStyle: false,
  //åœ¨ windows æ“ä½œç³»ç»Ÿä¸­æ¢è¡Œç¬¦é€šå¸¸æ˜¯å›è½¦ (CR) åŠ æ¢è¡Œåˆ†éš”ç¬¦ (LF)ï¼Œä¹Ÿå°±æ˜¯å›è½¦æ¢è¡Œ(CRLF)ï¼Œ
  //ç„¶è€Œåœ¨ Linux å’Œ Unix ä¸­åªä½¿ç”¨ç®€å•çš„æ¢è¡Œåˆ†éš”ç¬¦ (LF)ã€‚
  //å¯¹åº”çš„æ§åˆ¶å­—ç¬¦ä¸º "\n" (LF) å’Œ "\r\n"(CRLF)ã€‚autoæ„ä¸ºä¿æŒç°æœ‰çš„è¡Œå°¾
  // æ¢è¡Œç¬¦ä½¿ç”¨ lf ç»“å°¾æ˜¯ å¯é€‰å€¼"<auto|lf|crlf|cr>"
  endOfLine: "auto",
};
```

### å¢åŠ è„šæœ¬

åœ¨ package.json ä¸­æ·»åŠ è¯¥å‘½ä»¤:

```json
"lint:prettier": "prettier . --write --fix",
```

## eslint+prettier

é…ç½®å®Œæˆ`prettier`è‚¯å®šä¼šå’Œ`eslint`å‘ç”Ÿå†²çªï¼Œæ‰€ä»¥æ¥ä¸‹æ¥è¦è°ƒæ•´ä¸€ä¸‹`.eslintrc.js`æ–‡
ä»¶ï¼Œé€šè¿‡å‡ ä¸ªæ‰©å±•ï¼Œæ¥å®Œæˆ`vue3ã€tsã€prettier`çš„è§„åˆ™å’Œ`eslint`æ’ä»¶ç»“åˆä½¿ç”¨ï¼Œé…ç½®å¦‚
ä¸‹é¢ä»£ç æ‰€ç¤ºã€‚ Vue3 çš„ setup è¯­æ³•ç³–ä¸­æœ‰å‡ ä¸ªå®å®šä¹‰ï¼Œå¦‚æœä¸å£°æ˜ç›´æ¥å¼•ç”¨ä¼šæŠ¥é”™ï¼Œè¿™
é‡Œå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­åŠ å…¥`globals`é…ç½®é¡¹ï¼ˆå¦‚ä¸‹æ‰€ç¤ºï¼‰ï¼Œé€šè¿‡å…¨å±€å£°æ˜è¿™å‡ ä¸ªå®å®šä¹‰ï¼Œå°±
å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™å‡ ä¸ªå‡½æ•°ä¸ç”¨å†æå‰å£°æ˜äº†ï¼Œ`eslint`æ£€æŸ¥ä¹Ÿä¼šæ­£å¸¸é€šè¿‡ã€‚ å¯ä»¥çœ‹åˆ°é…ç½®
æ–‡ä»¶ä¸­æœ‰`process.env.NODE_ENV`ï¼Œè¿™æ˜¯ä¸€ä¸ª`node`ç¯å¢ƒå˜é‡ï¼Œä½¿ç”¨è¿‡ç¨‹å¯èƒ½ä¼šæŠ¥é”™ï¼Œè¿™é‡Œ
å®‰è£…`@types/node`(`npm i -D @types/node`)æ’ä»¶ï¼Œå°±å¯ä»¥åœ¨å…¨å±€ä½¿ç”¨`process`è¿™ä¸ªå‚æ•°
äº†ï¼Œæˆ‘ä»¬è¿™é‡Œä¸»è¦ç”¨äºåŒºåˆ†å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒï¼Œä¸‹é¢é…ç½®å°±æ˜¯å¼€å‘ç¯å¢ƒå…è®¸ä½¿
ç”¨`console.log()`ï¼Œè€Œç”Ÿäº§ç¯å¢ƒä¸èƒ½ä½¿ç”¨ï¼Œå¦‚æœæ„å»ºåŒ…çš„è¿‡ç¨‹ä¸­ä»£ç å«
æœ‰`console.log()`ï¼Œä¼šå¯¼è‡´æ„å»ºå¤±è´¥ï¼Œè¯·åˆ é™¤ log åå†æ‰“åŒ…ã€‚

```js
module.exports = {
  env: {
    browser: true,
    es2021: true,
    node: true,
  },
  extends: [
    "eslint-config-prettier",
    "eslint:recommended", // ä½¿ç”¨æ¨èçš„eslint
    "plugin:@typescript-eslint/recommended",
    "plugin:vue/vue3-recommended", // ä½¿ç”¨æ’ä»¶æ”¯æŒvue3
    "plugin:vue/vue3-essential",
    // 1.ç»§æ‰¿.prettierrc.jsæ–‡ä»¶è§„åˆ™
    // 2.å¼€å¯rulesçš„ "prettier/prettier": "error"
    // 3.eslint fixçš„åŒæ—¶æ‰§è¡Œprettieræ ¼å¼åŒ–
    "plugin:prettier/recommended",
  ],
  overrides: [
    {
      env: {
        node: true,
      },
      files: [".eslintrc.{js,cjs}"],
      parserOptions: {
        sourceType: "script",
      },
    },
  ],
  parserOptions: {
    ecmaVersion: "latest",
    parser: "@typescript-eslint/parser",
    sourceType: "module",
  },
  plugins: ["@typescript-eslint", "vue"],
  rules: {},
};
```

## stylelint

â€‹ åœ¨ vite+vue+scss é¡¹ç›®ä¸­é›†æˆ stylelint å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ ¼å¼åŒ– css ä»£ç ã€è®¾ç½® css å±
æ€§çš„æ’åºè§„åˆ™ã€‚

### å®‰è£…

```shell
pnpm install stylelint stylelint-config-html stylelint-config-recommended-scss stylelint-config-recommended-vue stylelint-config-standard stylelint-config-standard-scss stylelint-config-recess-order postcss postcss-html stylelint-config-prettier -D
```

è¯´æ˜ï¼š

stylelintï¼šstylelint æ ¸å¿ƒåº“

stylelint-config-htmlStylelint ï¼šçš„å¯å…±äº« HTMLï¼ˆå’Œç±»ä¼¼ HTMLï¼‰é…ç½®ï¼Œæ†ç»‘
postcss-html å¹¶å¯¹å…¶è¿›è¡Œé…ç½®ã€‚

stylelint-config-recommended-scssï¼šæ‰©å±• stylelint-config-recommended å…±äº«é…ç½®ï¼Œ
å¹¶ä¸º SCSS é…ç½®å…¶è§„åˆ™

stylelint-config-recommended-vueï¼šæ‰©å±• stylelint-config-recommended å…±äº«é…ç½®ï¼Œå¹¶
ä¸º Vue é…ç½®å…¶è§„åˆ™

stylelint-config-standardï¼šæ‰“å¼€é¢å¤–çš„è§„åˆ™æ¥æ‰§è¡Œåœ¨è§„èŒƒå’Œä¸€äº› CSS æ ·å¼æŒ‡å—ä¸­å‘ç°çš„
é€šç”¨çº¦å®šï¼ŒåŒ…æ‹¬ï¼šæƒ¯ç”¨ CSS åŸåˆ™ï¼Œè°·æ­Œçš„ CSS æ ·å¼æŒ‡å—ï¼ŒAirbnb çš„æ ·å¼æŒ‡å—ï¼Œå’Œ @mdo
çš„ä»£ç æŒ‡å—ã€‚

stylelint-config-standard-scssï¼šæ‰©å±• stylelint-config-standard å…±äº«é…ç½®ï¼Œå¹¶ä¸º
SCSS é…ç½®å…¶è§„åˆ™

stylelint-config-recess-orderï¼šå±æ€§çš„æ’åºï¼ˆæ’ä»¶åŒ…ï¼‰

stylelint-config-prettierï¼šå…³é—­æ‰€æœ‰ä¸å¿…è¦çš„æˆ–å¯èƒ½ä¸ Prettier å†²çªçš„è§„åˆ™

postcssï¼špostcss-html çš„ä¾èµ–åŒ…

postcss-htmlï¼šç”¨äºè§£æ HTMLï¼ˆå’Œç±»ä¼¼ HTMLï¼‰çš„ PostCSS è¯­æ³•

### é…ç½®

ä¿®æ”¹ package.json ä¸­ç›¸å…³é…ç½®ï¼š

åœ¨ script ä¸­å¢åŠ å‘½ä»¤ï¼š

```json
"lint:style": "stylelint \"./**/*.{css,less,scss,vue,html}\" --fix"
```

åœ¨ lint-staged ä¸­å¢åŠ éœ€è¦æ£€æŸ¥çš„æ–‡ä»¶ï¼Œå¹¶é…ç½®å¯¹åº”éœ€è¦æ‰§è¡Œçš„å‘½ä»¤ï¼š

```json
"lint-staged": {
+		"src/**/*.{html,less,css,scss,vue}": [
+			"pnpm run lint:style"
+		],
		"src/**/*.{js,cjs,ts,html,json,css,scss,vue}": [
			"npx prettier --write"
		],
		"src/**/*.{js,cjs,ts,vue}": [
			"npx eslint --fix"
		],
		"./*.{js,cjs,ts,html,json}": [
			"npx prettier --write"
		],
		"./*.{js,cjs,ts}": [
			"npx eslint --fix"
		]
	},
```

## è·¯å¾„åˆ«å

è·¯å¾„åˆ«åå¯ä»¥è¯´æ˜¯é¡¹ç›®å¿…è¦çš„é…ç½®äº†ï¼Œå¯ä»¥æ–¹ä¾¿æˆ‘ä»¬è¯»å–æŸä¸ªæ–‡ä»¶è·¯å¾„ã€‚åœ¨ vite é¡¹ç›®ä¸­é…
ç½®é¡¹ç›®åˆ«ååªéœ€è¦åœ¨ vite.config.js ä¸­å®šä¹‰å³å¯ï¼Œè‹¥æ˜¯ ts é¡¹ç›®éœ€è¦åœ¨ ts.config.json
ä¸­é…ç½®æ‰èƒ½è·å¾—ç¼–è¾‘å™¨çš„æ”¯æŒã€‚

### vite.config.js

```ts
import { defineConfig } from "vite";
import vue from "@vitejs/plugin-vue";
import path from "node:path";

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [vue()],
+  resolve: {
+    alias: {
+      "@": path.resolve(__dirname, "src"),
+      "@User": path.resolve(__dirname, "src/views/user"), // å…¶ä»–åˆ«å
+      "@Admin": path.resolve(__dirname, "src/views/admin"),// å…¶ä»–åˆ«å
+    },
+  },
});

```

### ts.config.json

```json
{
  "compilerOptions": {
    "target": "ES2020",
    "useDefineForClassFields": true,
    "module": "ESNext",
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "skipLibCheck": true,

    /* Bundler mode */
+    "baseUrl": ".",
+    "paths": {
+      "@/*": ["src/*"],
+      "@User/*": ["src/views/user/*"],
+      "@Admin/*": ["src/views/admin/*"],
+    },
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "preserve",

    /* Linting */
    "strict": true,
    "noUnusedLocals": false,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true
  },
  "include": ["src/**/*.ts", "src/**/*.d.ts", "src/**/*.tsx", "src/**/*.vue"],
  "references": [{ "path": "./tsconfig.node.json" }]
}

```
